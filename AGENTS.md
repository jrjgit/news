# é¡¹ç›®ä¸Šä¸‹æ–‡æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ª**æ¯æ—¥çƒ­ç‚¹æ–°é—»æ’­æŠ¥åº”ç”¨**ï¼Œä½¿ç”¨ Next.js æ„å»ºï¼Œèƒ½å¤Ÿè‡ªåŠ¨èšåˆæ¯æ—¥çƒ­ç‚¹æ–°é—»å¹¶ç”Ÿæˆæ’­å®¢é£æ ¼çš„è¯­éŸ³æ’­æŠ¥ã€‚

### æ ¸å¿ƒåŠŸèƒ½
- ğŸ“° **æ™ºèƒ½æ–°é—»èšåˆ**: æ¯æ—¥è‡ªåŠ¨æŠ“å–æ˜¨æ—¥çƒ­ç‚¹æ–°é—»ï¼ˆå›½å†…15æ¡ã€å›½é™…10æ¡ï¼‰
- ğŸ™ï¸ **AIæ’­æŠ¥è„šæœ¬**: ä½¿ç”¨å¤§è¯­è¨€æ¨¡å‹ç”Ÿæˆè½»æ¾æœ‰è¶£çš„æ’­å®¢é£æ ¼æ–‡æ¡ˆ
- ğŸ”Š **AIè¯­éŸ³åˆæˆ**: ä½¿ç”¨ Microsoft Edge TTS ç”Ÿæˆé«˜è´¨é‡è¯­éŸ³æ’­æŠ¥
- â° **å®šæ—¶æ›´æ–°**: æ¯å¤©å‡Œæ™¨2ç‚¹è‡ªåŠ¨æ‰§è¡Œæ›´æ–°ä»»åŠ¡
- ğŸ’¾ **æ•°æ®ç®¡ç†**: è‡ªåŠ¨ä¿ç•™æœ€è¿‘3å¤©çš„æ•°æ®

### AIå¢å¼ºåŠŸèƒ½
- ğŸ¤– **æ™ºèƒ½æ‘˜è¦**: AIè‡ªåŠ¨ç”Ÿæˆæ–°é—»æ‘˜è¦ï¼ˆ100å­—ä»¥å†…ï¼‰
- ğŸŒ **è‡ªåŠ¨ç¿»è¯‘**: å›½é™…æ–°é—»è‡ªåŠ¨ç¿»è¯‘ä¸ºä¸­æ–‡
- â­ **é‡è¦æ€§è¯„ä¼°**: AIæ™ºèƒ½è¯„ä¼°æ–°é—»é‡è¦æ€§ï¼ˆ1-5æ˜Ÿï¼‰
- ğŸ¯ **å¤šAIæ”¯æŒ**: æ”¯æŒ OpenAIã€DeepSeekã€æ™ºè°±AIã€æœ¬åœ°æ¨¡å‹

### ç”¨æˆ·ä½“éªŒ
- ğŸ” **æ™ºèƒ½æœç´¢**: æ”¯æŒæ ‡é¢˜ã€å†…å®¹ã€æ‘˜è¦å…¨æ–‡æœç´¢
- ğŸšï¸ **å¤šç»´ç­›é€‰**: æŒ‰åˆ†ç±»ã€é‡è¦æ€§ã€æ—¶é—´ç­›é€‰æ’åº
- â¤ï¸ **æ”¶è—åŠŸèƒ½**: æœ¬åœ°æŒä¹…åŒ–æ”¶è—æ–°é—»
- ğŸ“± **å“åº”å¼è®¾è®¡**: å®Œç¾æ”¯æŒæ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸ¨ **ç¾è§‚ç•Œé¢**: ç°ä»£åŒ–æ·±è‰²ä¸»é¢˜ï¼Œç»ç’ƒæ€è®¾è®¡ï¼Œæµç•…åŠ¨ç”»

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **æ¡†æ¶**: Next.js 16.1.2 (App Router)
- **è¯­è¨€**: TypeScript 5
- **æ ·å¼**: Tailwind CSS 4
- **UI**: React 19.2.3

### åç«¯
- **API**: Next.js API Routes
- **æ•°æ®åº“**: Vercel Postgres (PostgreSQL) + Prisma ORM 7.2.0
- **å®šæ—¶ä»»åŠ¡**: Vercel Cron Jobs
- **RSSè§£æ**: rss-parser 3.13.0

### AIæœåŠ¡
- **OpenAI**: GPT-4 / GPT-3.5
- **DeepSeek**: DeepSeek-Chat
- **æ™ºè°±AI**: GLM-4.6
- **æœ¬åœ°æ¨¡å‹**: Ollama (å¯é€‰)

### è¯­éŸ³åˆæˆ
- **TTS**: Microsoft Edge TTS (edge-tts-universal)
- **SDK**: Microsoft Cognitive Services Speech SDK

### å­˜å‚¨
- **æ•°æ®åº“**: Vercel Postgres
- **æ–‡ä»¶å­˜å‚¨**: Vercel Blob
- **æœ¬åœ°å­˜å‚¨**: localStorage (æ”¶è—åŠŸèƒ½)

## é¡¹ç›®ç»“æ„

```
news/
â”œâ”€â”€ app/                    # Next.jsåº”ç”¨ç›®å½•
â”‚   â”œâ”€â”€ api/               # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ news/          # æ–°é—»API
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts   # è·å–æ–°é—»åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ [id]/      # è·å–æ–°é—»è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ sync/          # åŒæ­¥API
â”‚   â”‚   â”‚   â”œâ”€â”€ route.ts   # æ‰‹åŠ¨è§¦å‘åŒæ­¥
â”‚   â”‚   â”‚   â”œâ”€â”€ all/       # åŒæ­¥æ‰€æœ‰æ–°é—»
â”‚   â”‚   â”‚   â”œâ”€â”€ cleanup/   # æ¸…ç†æ—§æ•°æ®
â”‚   â”‚   â”‚   â”œâ”€â”€ cron/      # Cronä»»åŠ¡å…¥å£
â”‚   â”‚   â”‚   â”œâ”€â”€ status/    # åŒæ­¥çŠ¶æ€
â”‚   â”‚   â”‚   â””â”€â”€ trigger/   # è§¦å‘ä»»åŠ¡
â”‚   â”‚   â”œâ”€â”€ audio/         # éŸ³é¢‘API
â”‚   â”‚   â”‚   â”œâ”€â”€ process/   # å¤„ç†éŸ³é¢‘ç”Ÿæˆ
â”‚   â”‚   â”‚   â””â”€â”€ status/    # éŸ³é¢‘çŠ¶æ€æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ test/          # æµ‹è¯•API
â”‚   â”‚   â”œâ”€â”€ debug/         # è°ƒè¯•API
â”‚   â”‚   â””â”€â”€ migrate/       # æ•°æ®åº“è¿ç§»
â”‚   â”œâ”€â”€ news/              # æ–°é—»è¯¦æƒ…é¡µ
â”‚   â”‚   â””â”€â”€ [id]/page.tsx
â”‚   â”œâ”€â”€ layout.tsx         # æ ¹å¸ƒå±€
â”‚   â”œâ”€â”€ page.tsx           # é¦–é¡µ
â”‚   â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
â”œâ”€â”€ components/            # Reactç»„ä»¶
â”‚   â”œâ”€â”€ AudioPlayer.tsx    # éŸ³é¢‘æ’­æ”¾å™¨
â”‚   â”œâ”€â”€ NewsCard.tsx       # æ–°é—»å¡ç‰‡
â”‚   â”œâ”€â”€ Header.tsx         # é¡µé¢å¤´éƒ¨
â”‚   â”œâ”€â”€ SearchBar.tsx      # æœç´¢æ 
â”‚   â”œâ”€â”€ FilterPanel.tsx    # ç­›é€‰é¢æ¿
â”‚   â””â”€â”€ SyncProgress.tsx   # åŒæ­¥è¿›åº¦
â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”œâ”€â”€ ai-service.ts      # AIæœåŠ¡æŠ½è±¡å±‚
â”‚   â”œâ”€â”€ ai-providers/      # AIé€‚é…å™¨
â”‚   â”‚   â”œâ”€â”€ base.ts        # åŸºç¡€é€‚é…å™¨æ¥å£
â”‚   â”‚   â”œâ”€â”€ openai-adapter.ts
â”‚   â”‚   â”œâ”€â”€ deepseek-adapter.ts
â”‚   â”‚   â”œâ”€â”€ zhipu-adapter.ts
â”‚   â”‚   â””â”€â”€ local-adapter.ts
â”‚   â”œâ”€â”€ db.ts              # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ rss-parser.ts      # RSSè§£æå™¨
â”‚   â”œâ”€â”€ news-generator.ts  # æ–°é—»ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ tts.ts             # è¯­éŸ³åˆæˆ
â”‚   â”œâ”€â”€ config.ts          # å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ circuit-breaker.ts # ç†”æ–­å™¨
â”‚   â”œâ”€â”€ rate-limiter.ts    # é€Ÿç‡é™åˆ¶å™¨
â”‚   â”œâ”€â”€ job-queue.ts       # ä»»åŠ¡é˜Ÿåˆ—
â”‚   â””â”€â”€ audio-queue.ts     # éŸ³é¢‘ä»»åŠ¡é˜Ÿåˆ—
â”œâ”€â”€ cron/                  # å®šæ—¶ä»»åŠ¡
â”‚   â””â”€â”€ sync-news.ts       # æ–°é—»åŒæ­¥ä»»åŠ¡
â”œâ”€â”€ prisma/               # Prismaé…ç½®
â”‚   â”œâ”€â”€ schema.prisma     # æ•°æ®åº“æ¨¡å‹
â”‚   â””â”€â”€ migrations/       # æ•°æ®åº“è¿ç§»
â”œâ”€â”€ public/               # é™æ€èµ„æº
â”œâ”€â”€ worker.ts             # Workerè¿›ç¨‹å…¥å£
â””â”€â”€ package.json          # é¡¹ç›®é…ç½®
```

## æ„å»ºå’Œè¿è¡Œ

### æœ¬åœ°å¼€å‘

```bash
# å®‰è£…ä¾èµ–
npm install

# åˆå§‹åŒ–æ•°æ®åº“
npm run db:generate
npm run db:push

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
# æ„å»ºé¡¹ç›®
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start
```

### æ•°æ®åº“æ“ä½œ

```bash
# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npm run db:generate

# æ¨é€æ•°æ®åº“æ¶æ„
npm run db:push

# åˆ›å»ºæ•°æ®åº“è¿ç§»
npm run db:migrate

# æ‰“å¼€Prisma Studio
npm run db:studio
```

### å…¶ä»–å‘½ä»¤

```bash
# æ‰‹åŠ¨æ‰§è¡Œæ–°é—»åŒæ­¥
npm run sync

# æµ‹è¯•æ™ºè°±AIè¿æ¥
npm run test-zhipu

# å¯åŠ¨Workerè¿›ç¨‹
npm run worker
```

### Vercel Cron ä»»åŠ¡

é¡¹ç›®é…ç½®äº† Vercel Cron Jobsï¼Œæ¯å¤©å‡Œæ™¨2ç‚¹ï¼ˆUTCæ—¶é—´ï¼‰è‡ªåŠ¨æ‰§è¡Œæ–°é—»åŒæ­¥ä»»åŠ¡ã€‚

Cron è¡¨è¾¾å¼ï¼š`0 2 * * *`ï¼ˆæ¯å¤©å‡Œæ™¨2ç‚¹ï¼‰

## å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼
- ä½¿ç”¨ TypeScript è¿›è¡Œç±»å‹æ£€æŸ¥
- éµå¾ª ESLint è§„èŒƒï¼ˆé…ç½®æ–‡ä»¶ï¼š`eslint.config.mjs`ï¼‰
- ä½¿ç”¨å‡½æ•°ç»„ä»¶å’Œ React Hooks
- éµå¾ª Next.js App Router æœ€ä½³å®è·µ

### ç›®å½•ç»“æ„è§„èŒƒ
- **app/**: Next.js åº”ç”¨ç›®å½•ï¼ŒåŒ…å«é¡µé¢å’ŒAPIè·¯ç”±
- **components/**: å¯å¤ç”¨çš„Reactç»„ä»¶
- **lib/**: å·¥å…·åº“å’Œä¸šåŠ¡é€»è¾‘
- **cron/**: å®šæ—¶ä»»åŠ¡è„šæœ¬
- **prisma/**: æ•°æ®åº“ç›¸å…³é…ç½®

### APIè·¯ç”±è§„èŒƒ
- RESTful APIè®¾è®¡
- ç»Ÿä¸€å“åº”æ ¼å¼ï¼š`{ success: boolean, data?: any, error?: string }`
- ä½¿ç”¨ Prisma è¿›è¡Œæ•°æ®åº“æ“ä½œ
- é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

### æ•°æ®åº“è§„èŒƒ
- ä½¿ç”¨ Prisma ORM
- æ•°æ®åº“æ¨¡å‹å®šä¹‰åœ¨ `prisma/schema.prisma`
- ä½¿ç”¨è¿ç§»ç®¡ç†æ•°æ®åº“å˜æ›´
- ä¸»è¦æ•°æ®è¡¨ï¼š
  - `News`: æ–°é—»æ•°æ®ï¼ˆæ ‡é¢˜ã€å†…å®¹ã€æ‘˜è¦ã€ç¿»è¯‘ã€é‡è¦æ€§ç­‰ï¼‰
  - `SyncLog`: åŒæ­¥æ—¥å¿—ï¼ˆåŒæ­¥æ—¥æœŸã€çŠ¶æ€ã€æ–°é—»æ•°é‡ç­‰ï¼‰

### AIæœåŠ¡è§„èŒƒ
- ä½¿ç”¨æŠ½è±¡å±‚ `AIService` ç»Ÿä¸€æ¥å£
- æ”¯æŒå¤šç§AIæä¾›å•†ï¼ˆOpenAIã€DeepSeekã€æ™ºè°±AIã€æœ¬åœ°æ¨¡å‹ï¼‰
- å®ç°ç†”æ–­å™¨æ¨¡å¼é˜²æ­¢çº§è”å¤±è´¥
- å®ç°é€Ÿç‡é™åˆ¶å™¨é˜²æ­¢APIé™æµ
- æ‰¹é‡å¤„ç†æ—¶æ§åˆ¶å¹¶å‘æ•°ï¼ˆé»˜è®¤5ä¸ªå¹¶å‘ï¼‰

### é…ç½®ç®¡ç†
- ç¯å¢ƒå˜é‡é…ç½®åœ¨ `.env` æ–‡ä»¶
- å…¨å±€é…ç½®åœ¨ `lib/config.ts`
- AIé…ç½®ï¼š
  - è¯·æ±‚å»¶è¿Ÿï¼š2000ms
  - è¯·æ±‚è¶…æ—¶ï¼š60000ms
  - æ‰¹é‡æ•°é‡ï¼š8
  - æœ€å¤§é‡è¯•ï¼š4æ¬¡
  - é€Ÿç‡é™åˆ¶ï¼š10è¯·æ±‚/åˆ†é’Ÿï¼ˆglm-4vå¹¶å‘10ä¸ªï¼‰

### é”™è¯¯å¤„ç†
- ä½¿ç”¨ try-catch æ•è·å¼‚å¸¸
- è®°å½•è¯¦ç»†çš„é”™è¯¯æ—¥å¿—
- æä¾›å‹å¥½çš„é”™è¯¯æç¤º
- å®ç°é‡è¯•æœºåˆ¶å’Œç†”æ–­å™¨

### æµ‹è¯•è§„èŒƒ
- ä½¿ç”¨ Vercel Postgres è¿›è¡Œæ•°æ®åº“æµ‹è¯•
- ä½¿ç”¨æµ‹è¯•APIéªŒè¯åŠŸèƒ½
- æµ‹è¯•æ™ºè°±AIè¿æ¥ï¼š`npm run test-zhipu`

## ç¯å¢ƒå˜é‡

### å¿…éœ€é…ç½®

```env
# æ•°æ®åº“
POSTGRES_URL=postgresql://user:password@host:5432/dbname

# Blobå­˜å‚¨
BLOB_READ_WRITE_TOKEN=vercel_blob_xxxxxxxxx

# RSSæº
RSS_SOURCES_DOMESTIC=https://www.36kr.com/feed,https://www.cnbeta.com/backend.php,https://www.zhihu.com/rss
RSS_SOURCES_INTERNATIONAL=https://feeds.bbci.co.uk/news/world/rss.xml,https://feeds.npr.org/1001/rss.xml,https://www.theguardian.com/world/rss

# æ–°é—»æ•°é‡
NEWS_COUNT_DOMESTIC=15
NEWS_COUNT_INTERNATIONAL=10

# TTSé…ç½®
EDGE_TTS_VOICE=zh-CN-XiaoxiaoNeural

# æ•°æ®ä¿ç•™
DATA_RETENTION_DAYS=3
```

### AIæœåŠ¡é…ç½®ï¼ˆé€‰æ‹©ä¸€ä¸ªï¼‰

```env
# AIæœåŠ¡æä¾›å•†ï¼ˆopenai | deepseek | zhipu | localï¼‰
AI_SERVICE_PROVIDER=zhipu

# æ™ºè°±AIé…ç½®
ZHIPU_API_KEY=your-zhipu-api-key
ZHIPU_MODEL=glm-4.6

# OpenAIé…ç½®ï¼ˆå¦‚æœä½¿ç”¨OpenAIï¼‰
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-4

# DeepSeeké…ç½®ï¼ˆå¦‚æœä½¿ç”¨DeepSeekï¼‰
DEEPSEEK_API_KEY=your-deepseek-api-key
DEEPSEEK_MODEL=deepseek-chat

# æœ¬åœ°æ¨¡å‹é…ç½®ï¼ˆå¦‚æœä½¿ç”¨Ollamaï¼‰
LOCAL_MODEL_BASE_URL=http://localhost:11434
LOCAL_MODEL_MODEL=llama2
```

### AIåŠŸèƒ½å¼€å…³

```env
AI_ENABLE_SUMMARY=true
AI_ENABLE_TRANSLATION=true
AI_ENABLE_IMPORTANCE=true
```

## å…³é”®APIç«¯ç‚¹

### æ–°é—»API
- `GET /api/news` - è·å–æ–°é—»åˆ—è¡¨
  - å‚æ•°ï¼š`date`, `sortBy`, `order`, `category`
- `GET /api/news/[id]` - è·å–æ–°é—»è¯¦æƒ…

### åŒæ­¥API
- `POST /api/sync` - æ‰‹åŠ¨è§¦å‘åŒæ­¥
- `GET /api/sync/status` - è·å–åŒæ­¥çŠ¶æ€
- `GET /api/sync/status/[id]` - è·å–ç‰¹å®šä»»åŠ¡çŠ¶æ€
- `POST /api/sync/cron` - Cronä»»åŠ¡å…¥å£
- `POST /api/sync/trigger` - è§¦å‘ä»»åŠ¡
- `POST /api/sync/all` - åŒæ­¥æ‰€æœ‰æ–°é—»
- `POST /api/sync/cleanup` - æ¸…ç†æ—§æ•°æ®

### éŸ³é¢‘API
- `GET /api/audio/status` - è·å–éŸ³é¢‘çŠ¶æ€
- `POST /api/audio/status` - è§¦å‘éŸ³é¢‘ç”Ÿæˆ
- `POST /api/audio/process` - å¤„ç†éŸ³é¢‘ç”Ÿæˆ

### æµ‹è¯•API
- `POST /api/test/ai` - æµ‹è¯•AIæœåŠ¡
- `POST /api/test-zhipu` - æµ‹è¯•æ™ºè°±AIè¿æ¥

### è°ƒè¯•API
- `GET /api/diagnostic` - è¯Šæ–­ä¿¡æ¯
- `POST /api/debug/sync-data` - è°ƒè¯•åŒæ­¥æ•°æ®
- `GET /api/debug/translations` - è°ƒè¯•ç¿»è¯‘

## æ•°æ®åº“æ¨¡å‹

### News è¡¨
```prisma
model News {
  id                Int      @id @default(autoincrement())
  title             String
  content           String
  summary           String?  @db.Text
  translatedContent String?  @map("translated_content") @db.Text
  originalLink      String?  @map("original_link")
  source            String
  category          Category
  importance        Int?     @default(3)
  newsDate          DateTime @map("news_date")
  audioUrl          String?  @map("audio_url")
  script            String?
  createdAt         DateTime @default(now()) @map("created_at")

  @@index([newsDate])
  @@index([category])
  @@index([importance])
  @@map("news")
}
```

### SyncLog è¡¨
```prisma
model SyncLog {
  id           Int      @id @default(autoincrement())
  syncDate     DateTime @unique @map("sync_date")
  status       Status
  newsCount    Int      @default(0) @map("news_count")
  errorMessage String?  @map("error_message")
  createdAt    DateTime @default(now()) @map("created_at")

  @@map("sync_logs")
}
```

### æšä¸¾ç±»å‹
```prisma
enum Category {
  DOMESTIC
  INTERNATIONAL
}

enum Status {
  SUCCESS
  FAILED
  PARTIAL
  IN_PROGRESS
}
```

## é‡è¦æç¤º

### Edge TTS
- ä½¿ç”¨ Microsoft Edge åœ¨çº¿ TTS æœåŠ¡ï¼Œæ— éœ€é…ç½®å¯†é’¥
- éŸ³é¢‘æ–‡ä»¶å­˜å‚¨åœ¨ Vercel Blob
- è‡ªåŠ¨æ¸…ç†3å¤©å‰çš„éŸ³é¢‘æ–‡ä»¶

### Cron Jobs
- Vercel Cron Jobsæ¯å¤©æœ€å¤šæ‰§è¡Œä¸€æ¬¡
- é…ç½®åœ¨ `vercel.json` æ–‡ä»¶ä¸­
- æ‰§è¡Œæ—¶é—´ï¼šæ¯å¤©å‡Œæ™¨2ç‚¹ï¼ˆUTCï¼‰

### AIæœåŠ¡
- éœ€è¦é…ç½®AIæœåŠ¡æä¾›å•†å’ŒAPIå¯†é’¥æ‰èƒ½ä½¿ç”¨AIåŠŸèƒ½
- å®ç°äº†ç†”æ–­å™¨å’Œé€Ÿç‡é™åˆ¶å™¨
- æ”¯æŒæ‰¹é‡å¤„ç†ï¼Œæ§åˆ¶å¹¶å‘æ•°
- å¤±è´¥æ—¶è‡ªåŠ¨å›é€€åˆ°æ¨¡æ¿æ¨¡å¼

### æ–°é—»å»é‡
- ä½¿ç”¨Levenshteinè·ç¦»ç®—æ³•è‡ªåŠ¨å»é‡ç›¸ä¼¼æ–°é—»
- å»é‡é˜ˆå€¼ï¼šç›¸ä¼¼åº¦å¤§äº80%

### æ”¶è—åŠŸèƒ½
- æ”¶è—æ•°æ®ä¿å­˜åœ¨æµè§ˆå™¨localStorageä¸­
- ä½¿ç”¨ `news-favorites` é”®å­˜å‚¨

### Workerè¿›ç¨‹
- æ”¯æŒè½®è¯¢æ¨¡å¼å’Œå•æ¬¡å¤„ç†æ¨¡å¼
- ä½¿ç”¨ Vercel KV ä½œä¸ºä»»åŠ¡é˜Ÿåˆ—
- ä¼˜å…ˆå¤„ç†éŸ³é¢‘ä»»åŠ¡
- æ”¯æŒä¼˜é›…å…³é—­

## å¸¸è§é—®é¢˜

### å¦‚ä½•åˆ‡æ¢AIæœåŠ¡æä¾›å•†ï¼Ÿ
ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `AI_SERVICE_PROVIDER` ç¯å¢ƒå˜é‡ï¼Œå¹¶é…ç½®å¯¹åº”çš„APIå¯†é’¥ã€‚

### å¦‚ä½•è°ƒæ•´æ–°é—»æ•°é‡ï¼Ÿ
ä¿®æ”¹ `.env` æ–‡ä»¶ä¸­çš„ `NEWS_COUNT_DOMESTIC` å’Œ `NEWS_COUNT_INTERNATIONAL` ç¯å¢ƒå˜é‡ã€‚

### å¦‚ä½•æ‰‹åŠ¨è§¦å‘åŒæ­¥ï¼Ÿ
åœ¨é¦–é¡µç‚¹å‡»"æ‰‹åŠ¨åŒæ­¥"æŒ‰é’®ï¼Œæˆ–è°ƒç”¨ `POST /api/sync` APIã€‚

### å¦‚ä½•æŸ¥çœ‹åŒæ­¥æ—¥å¿—ï¼Ÿ
ä½¿ç”¨ Prisma Studioï¼š`npm run db:studio`ï¼ŒæŸ¥çœ‹ `SyncLog` è¡¨ã€‚

### å¦‚ä½•è°ƒè¯•AIæœåŠ¡ï¼Ÿ
è°ƒç”¨æµ‹è¯•APIï¼š`POST /api/test/ai`ï¼Œæˆ–ä½¿ç”¨ `npm run test-zhipu` æµ‹è¯•æ™ºè°±AIè¿æ¥ã€‚

### å¦‚ä½•éƒ¨ç½²åˆ°Vercelï¼Ÿ
1. æ¨é€ä»£ç åˆ°GitHub
2. åœ¨Vercelåˆ›å»ºé¡¹ç›®å¹¶è¿æ¥GitHubä»“åº“
3. é…ç½®ç¯å¢ƒå˜é‡
4. éƒ¨ç½²é¡¹ç›®

## å…è´¹é¢åº¦

| æœåŠ¡ | å…è´¹é¢åº¦ | è¯´æ˜ |
|------|---------|------|
| Vercel Postgres | 500MBå­˜å‚¨ | è¶³å¤Ÿå­˜å‚¨æ–°é—»æ•°æ® |
| Vercel Blob | 500GBå­˜å‚¨ | è¶³å¤Ÿå­˜å‚¨éŸ³é¢‘æ–‡ä»¶ |
| Edge TTS | å®Œå…¨å…è´¹ | ä½¿ç”¨ Microsoft Edge åœ¨çº¿æœåŠ¡ |
| Vercel Functions | 100GBå¸¦å®½/æœˆ | è¶³å¤Ÿä¸ªäººä½¿ç”¨ |
| æ™ºè°±AI | æŸ¥çœ‹å®˜ç½‘ | æ–°ç”¨æˆ·æœ‰å…è´¹é¢åº¦ |
| DeepSeek | æŸ¥çœ‹å®˜ç½‘ | ä»·æ ¼å®æƒ  |
| æœ¬åœ°æ¨¡å‹ | å®Œå…¨å…è´¹ | éœ€è¦æœ¬åœ°éƒ¨ç½²Ollama |

## è®¸å¯è¯

MIT License